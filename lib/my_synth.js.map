{"version":3,"sources":["webpack:///webpack/bootstrap fc6ae8146b1442950f5c","webpack:///./lib/tuna.js","webpack:///./lib/audioCtx.js","webpack:///./lib/delayEvents.js","webpack:///./lib/filterEvents.js","webpack:///./lib/overdriveEvents.js","webpack:///./lib/phaserEvents.js","webpack:///./lib/reverbEvents.js","webpack:///./lib/main.js"],"names":["tuna","Tuna","delay","Delay","feedback","delayTime","wetLevel","dryLevel","cutoff","bypass","phaser","Phaser","rate","depth","stereoPhase","baseModulationFrequency","overdrive","Overdrive","outputGain","drive","curveAmount","algorithmIndex","convolver","Convolver","highCut","lowCut","level","impulse","filter","Filter","frequency","Q","gain","filterType","audioCtx","window","AudioContext","document","addEventListener","newDelayTime","getElementById","e","newDelayNumber","parseFloat","value","match","newWet","newWetNumber","wet","newStatus","checked","newFeedbackTime","newFeedbackNumber","newCutoff","newCutoffNumber","parseInt","newFilterType","$","blur","type","newQ","newQNumber","newGain","output","newGainNumber","newDrive","newDriveNumber","newCurve","newCurveNumber","newType","newTypeNumber","newPhaserDepth","newPhaserDepthNumber","newPhaserFeedback","newPhaserFeedbackNumber","newPhaserRate","newPhaserRateNumber","newPhaserStereo","newPhaserStereoNumber","newReverbAmount","newReverbNumber","delayEvents","phaserEvents","overdriveEvents","reverbEvents","filterEvents","masterGainNode","createGain","connect","destination","type2","oscVolume","osc2Volume","envelope","attack","decay","sustain","detune","octave","oscGain","osc2Gain","analyser","createAnalyser","bufferLength","fftSize","dataArray","Uint8Array","getByteTimeDomainData","canvas","canvasCtx","getContext","draw","clearRect","width","height","drawVisual","requestAnimationFrame","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","v","y","moveTo","lineTo","stroke","init","delayReset","phaserReset","overdriveReset","reverbReset","filterReset","masterReset","envelopeReset","next","prev","$instructionsOne","$instructionsTwo","$instructionsThree","$instructionsFour","$instructionsFive","$instructionsSix","$instructions","currentWindow","attr","length","hide","css","close","presetOneButton","newDetuneAmount","presetTwoButton","presetThreeButton","defaultButton","newAttack","newAttackNumber","newDecay","newDecayNumber","newSustain","newSustainNumber","target","targetTwo","oscOneGain","oscOneGainNumber","oscTwoGain","oscTwoGainNumber","gainTarget","octaveUp","octaveDown","createNoteTable","noteFreq","multiplier","setup","keyboard","createElement","keyIds","id","forEach","keyList","Object","keys","note","idx","append","createKey","innerHTML","activeNotes","freq","keyId","keyElement","className","addClass","dataset","String","fromCharCode","fired","oscs","on","key","keyCode","playTone","toStop","removeClass","osc","stop","connectNodes","osc2","initialValue","setValueAtTime","currentTime","linearRampToValueAtTime","createOscillator","number","start"],"mappings":"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","file":"./lib/my_synth.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc6ae8146b1442950f5c","import audioCtx from './audioCtx';\n\nconst tuna = new Tuna(audioCtx);\nexport const delay = new tuna.Delay({\n      feedback: 0.2,\n      delayTime: 200, //this will create a short \"slap back\" delay\n      wetLevel: 0.7,\n      dryLevel: 1,\n      cutoff: 5000,\n      bypass: true\n});\n\nexport const phaser = new tuna.Phaser({\n    rate: 1.2,                     //0.01 to 8 is a decent range, but higher values are possible\n    depth: 0,                    //0 to 1\n    feedback: 0.0,                 //0 to 1+\n    stereoPhase: 30,               //0 to 180\n    baseModulationFrequency: 700,  //500 to 1500\n    bypass: 1\n});\n\nexport const overdrive = new tuna.Overdrive({\n    outputGain: 0.01,         //0 to 1+\n    drive: 0.01,              //0 to 1\n    curveAmount: 0,          //0 to 1\n    algorithmIndex: 0,       //0 to 5, selects one of our drive algorithms\n    bypass: 1\n});\n\nexport const convolver = new tuna.Convolver({\n    highCut: 22050,                         //20 to 22050\n    lowCut: 20,                             //20 to 22050\n    dryLevel: 1,                            //0 to 1+\n    wetLevel: 1,                            //0 to 1+\n    level: 1,                               //0 to 1+, adjusts total output of both wet and dry\n    impulse: \"impulses/BatteryBenson.wav\",    //the path to your impulse response\n    bypass: 1\n});\n\nexport const filter = new tuna.Filter({\n    frequency: 440, //20 to 22050\n    Q: 1, //0.001 to 100\n    gain: 3.4028234663852886, //-40 to 40 (in decibels)\n    filterType: \"lowpass\", //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n    bypass: 0\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tuna.js","const audioCtx = new (window.AudioContext)();\nexport default audioCtx;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/audioCtx.js","import { delay } from './tuna.js'\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let newDelayTime = document.getElementById('delay-slider');\n\n  newDelayTime.addEventListener(\"change\", (e) => {\n    let newDelayNumber = parseFloat(newDelayTime.value.match(/[\\d\\.]+/))\n    delay.delayTime.value = newDelayNumber;\n  });\n\n  let newWet = document.getElementById('delay-wet-slider')\n\n  newWet.addEventListener(\"change\", () => {\n    let newWetNumber = parseFloat(newWet.value.match(/[\\d\\.]+/))\n    delay.wet.gain.value = newWetNumber;\n  })\n\n  let newStatus = document.getElementById('delay-toggle')\n  newStatus.addEventListener('click', () => {\n    if (newStatus.checked) {\n      delay.bypass = false;\n    }\n    else {\n      delay.bypass = true\n    }\n  })\n\n  let newFeedbackTime = document.getElementById('delay-feedback-slider')\n  newFeedbackTime.addEventListener('change', () => {\n    let newFeedbackNumber = parseFloat(newFeedbackTime.value.match(/[\\d\\.]+/))\n    delay.feedback.value = newFeedbackNumber;\n  })\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/delayEvents.js","import { filter } from './tuna.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    let newCutoff = document.getElementById('filter-cutoff-slider')\n    newCutoff.addEventListener(\"change\", () => {\n      let newCutoffNumber = parseInt(newCutoff.value)\n      filter.frequency.value = newCutoffNumber\n    })\n\n    let newFilterType = document.getElementById('filter-type-dropdown')\n    newFilterType.addEventListener(\"change\", () => {\n      $('#filter-type-dropdown').blur();\n      filter.filter.type = newFilterType.value;\n    })\n\n    let newQ = document.getElementById('filter-Q-slider')\n    newQ.addEventListener(\"change\", () => {\n      let newQNumber = parseInt(newQ.value)\n      filter.Q.value = newQNumber;\n    })\n\n    let newGain = document.getElementById('filter-gain-slider')\n    filter.output.gain.value = 3.4028234663852886;\n    newGain.addEventListener(\"change\", () => {\n      let newGainNumber = parseFloat(newGain.value.match(/^-?[0-9]+(?:\\.[0-9]+)?$/));\n      filter.output.gain.value = newGainNumber;\n    })\n\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/filterEvents.js","import { overdrive } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newDrive = document.getElementById('overdrive-drive-slider')\n    newDrive.addEventListener(\"click\", () => {\n      let newDriveNumber = parseFloat(newDrive.value.match(/[\\d\\.]+/));\n      overdrive.drive.value = newDriveNumber;\n    })\n\n\n    let newGain = document.getElementById('overdrive-output-slider')\n    newGain.addEventListener(\"change\", () => {\n      let newGainNumber = parseFloat(newGain.value.match(/[\\d\\.]+/));\n      overdrive.outputGain.value = newGainNumber;\n    })\n\n    let newCurve = document.getElementById('overdrive-curve-slider')\n    newCurve.addEventListener(\"change\", () => {\n      let newCurveNumber = parseFloat(newCurve.value.match(/[\\d\\.]+/));\n      overdrive.curveAmount = newCurveNumber;\n    })\n\n    let newType = document.getElementById('drive-type')\n    newType.addEventListener(\"change\", () => {\n      let newTypeNumber = parseInt(newType.value)\n      overdrive.algorithmIndex = newTypeNumber;\n    })\n\n    let newStatus = document.getElementById('overdrive-toggle')\n    newStatus.addEventListener(\"click\", () => {\n      if (newStatus.checked) {\n        overdrive.bypass = 0\n      }\n      else {\n        overdrive.bypass = 1;\n      }\n    })\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/overdriveEvents.js","import { phaser } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newPhaserDepth = document.getElementById('phaser-depth')\n\n    newPhaserDepth.addEventListener(\"change\", () => {\n      let newPhaserDepthNumber = parseFloat(newPhaserDepth.value.match(/[\\d\\.]+/))\n      phaser.depth = newPhaserDepthNumber;\n    })\n\n\n    let newPhaserFeedback = document.getElementById('phaser-feedback')\n    newPhaserFeedback.addEventListener(\"change\", () => {\n      let newPhaserFeedbackNumber = parseFloat(newPhaserFeedback.value.match(/[\\d\\.]+/))\n      phaser.depth = newPhaserFeedbackNumber;\n    })\n\n\n    let newPhaserRate = document.getElementById('phaser-rate')\n    newPhaserRate.addEventListener(\"change\", () => {\n      let newPhaserRateNumber = parseFloat(newPhaserRate.value.match(/[\\d\\.]+/))\n      phaser.rate = newPhaserRateNumber;\n    })\n\n    let newPhaserStereo = document.getElementById('phaser-stereo')\n    newPhaserStereo.addEventListener(\"change\", () => {\n      let newPhaserStereoNumber = parseInt(newPhaserStereo.value)\n      phaser.stereoPhase = newPhaserStereoNumber;\n    })\n\n    let newStatus = document.getElementById('phaser-toggle')\n    newStatus.addEventListener('click', () => {\n      if (newStatus.checked) {\n        phaser.bypass = false;\n      }\n      else {\n        phaser.bypass = true;\n      }\n    })\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/phaserEvents.js","import { convolver } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newReverbAmount = document.getElementById('reverb-wet-slider')\n    newReverbAmount.addEventListener(\"change\", () => {\n      let newReverbNumber = parseFloat(newReverbAmount.value.match(/[\\d\\.]+/));\n      convolver.wet.gain.value = newReverbNumber;\n    })\n\n    let newStatus = document.getElementById('reverb-toggle')\n    newStatus.addEventListener(\"click\", () => {\n      if (newStatus.checked) {\n        convolver.bypass = 0;\n      }\n      else {\n        convolver.bypass = 1;\n      }\n    })\n\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reverbEvents.js","\n//module imports\nimport audioCtx from './audioCtx';\nimport * as delayEvents from './delayEvents.js';\nimport * as phaserEvents from './phaserEvents.js';\nimport * as overdriveEvents from './overdriveEvents.js';\nimport * as reverbEvents from './reverbEvents.js';\nimport * as filterEvents from './filterEvents.js';\nimport { delay, phaser, overdrive, convolver, filter } from './tuna.js'\n\n//global variables\nconst masterGainNode = audioCtx.createGain();\nmasterGainNode.gain.value = 1;\nmasterGainNode.connect(audioCtx.destination);\nlet type = 'sine'\nlet type2 = 'sine'\nlet oscVolume = audioCtx.createGain();\nlet osc2Volume = audioCtx.createGain();\nlet envelope = audioCtx.createGain();\nlet attack = 0;\nlet decay = 0;\nlet sustain = 1;\nlet detune = 0;\nlet octave = 1\nlet oscGain = 0.1;\nlet osc2Gain = 0.1;\nwindow.oscGain = oscGain;\nwindow.masterGainNode = masterGainNode;\n\n\n//Setup Array for draw function\nlet analyser = audioCtx.createAnalyser();\nlet bufferLength = analyser.fftSize = 2048;\nlet dataArray = new Uint8Array(bufferLength);\nanalyser.getByteTimeDomainData(dataArray);\n\n//draw function\nlet canvas;\nlet canvasCtx;\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  canvas = document.getElementById(\"oscilloscope\");\n  canvasCtx = canvas.getContext(\"2d\");\n})\n\nfunction draw() {\n  canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\n  let drawVisual = requestAnimationFrame(draw);\n  analyser.getByteTimeDomainData(dataArray);\n  canvasCtx.fillStyle = 'rgba(255, 255, 255, 0.0)';\n  canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\n  canvasCtx.lineWidth = 1;\n  canvasCtx.strokeStyle = 'rgb(68, 255, 0)';\n  canvasCtx.beginPath();\n\n  var sliceWidth = canvas.width * 1.0 / bufferLength;\n  var x = 0;\n\n  for (var i = 0; i < bufferLength; i++) {\n\n    var v = dataArray[i] / 128.0;\n    var y = v * canvas.height / 2;\n    if (i === 0) {\n      canvasCtx.moveTo(x, y);\n    } else {\n      canvasCtx.lineTo(x, y);\n    }\n\n    x += sliceWidth;\n  }\n  canvasCtx.lineTo(canvas.width, canvas.height);\n  canvasCtx.stroke();\n\n};\n\n//reset functions\nfunction init() {\n  delayReset();\n  phaserReset();\n  overdriveReset();\n  reverbReset();\n  filterReset();\n  masterReset();\n  envelopeReset();\n}\n\nfunction delayReset() {\n  document.getElementById('delay-toggle').checked = false;\n  document.getElementById('delay-slider').value = 0;\n  document.getElementById('delay-feedback-slider').value = 0;\n  document.getElementById('delay-wet-slider').value = 0;\n  delay.bypass = true;\n  delay.delayTime.value = 0;\n  delay.feedback.value = 0;\n  delay.wetLevel = 0;\n}\n\nfunction phaserReset() {\n  document.getElementById('phaser-rate').value = 0;\n  document.getElementById('phaser-feedback').value = 0;\n  document.getElementById('phaser-depth').value = 0;\n  document.getElementById('phaser-toggle').checked = false;\n  document.getElementById('phaser-stereo').value = 0;\n  phaser.feedback = 0;\n  phaser.depth = 0;\n  phaser.bypass = true;\n  phaser.rate = 0;\n  phaser.stereoPhase = 0;\n}\n\nfunction overdriveReset() {\n  document.getElementById('overdrive-toggle').checked = false;\n  document.getElementById('overdrive-drive-slider').value = 0;\n  document.getElementById('overdrive-output-slider').value = 0;\n  document.getElementById('overdrive-curve-slider').value = 0;\n  document.getElementById('drive-type').value = 0;\n  document.getElementById('gain-setting').value = 1;\n  overdrive.bypass = true;\n  overdrive.drive = 0;\n  overdrive.curveAmount = 0;\n  overdrive.algorithmIndex = 0;\n  overdrive.outputGain.value = 0;\n}\n\nfunction reverbReset() {\n  document.getElementById('reverb-toggle').checked = false;\n  document.getElementById('reverb-wet-slider').value = 0.5;\n  convolver.bypass = true;\n  convolver.wetLevel = 0.5;\n}\n\nfunction filterReset() {\n  document.getElementById('filter-cutoff-slider').value = 440;\n  document.getElementById('filter-Q-slider').value = 0;\n  document.getElementById('filter-gain-slider').value = 3.4028234663852886;\n  document.getElementById('filter-type-dropdown').value = 'lowpass';\n  filter.frequency = 440;\n  filter.Q = 0;\n  filter.output.gain.value = 3.4028234663852886;\n  filter.filterType = 'lowpass';\n\n}\n\nfunction masterReset() {\n  document.getElementById('wave-select').value = 'sine';\n  document.getElementById('wave-select-two').value = 'sine';\n  document.getElementById('osc-one-gain').value = 0.1;\n  document.getElementById('osc-two-gain').value = 0.1;\n  type = 'sine'\n  type2 = 'sine'\n  octave = 1;\n  oscGain = 0.1;\n  osc2Gain = 0.1;\n  detune = 0;\n  masterGainNode.gain.value = 1;\n}\n\nfunction envelopeReset() {\n  document.getElementById('attack-slider').value = 0;\n  document.getElementById('decay-slider').value = 0;\n  document.getElementById('sustain-slider').value = 1;\n  attack = 0;\n  decay = 0;\n  sustain = 1;\n}\n\n\n//Add all event listeners for non Tuna settings on load\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let next = document.getElementById('next');\n    let prev = document.getElementById('prev');\n    const $instructionsOne = $('#one')\n    const $instructionsTwo = $('#two')\n    const $instructionsThree = $('#three')\n    const $instructionsFour = $('#four')\n    const $instructionsFive = $('#five')\n    const $instructionsSix = $('#six')\n    const $instructions = [$instructionsOne, $instructionsTwo, $instructionsThree, $instructionsFour, $instructionsFive, $instructionsSix]\n    let currentWindow = 0;\n\n    //handles render of instructions\n    next.addEventListener('click', () => {\n      $($instructions[currentWindow]).attr(\"hidden\", true)\n      $($instructions[currentWindow + 1]).attr(\"hidden\", false)\n      currentWindow++\n      if (currentWindow > $instructions.length - 1) {\n        $(next).attr(\"hidden\", true)\n        $(prev).attr(\"hidden\", true)\n        $('#close').hide();\n        $('#tutorial-header').hide();\n        $('#instructions').attr(\"hidden\", true)\n        $('#instructions').css('background', 'transparent');\n        $('#instructions').css('border', 'none');\n        $('#instructions').css('z-index', '-1');\n        $('#transparent').css('background', 'transparent');\n      }\n    })\n\n    prev.addEventListener('click', () => {\n      if (currentWindow === 0) {\n        return;\n      }\n      $($instructions[currentWindow]).attr(\"hidden\", true)\n      $($instructions[currentWindow - 1]).attr(\"hidden\", false)\n        currentWindow--\n    })\n\n    let close = $('.fa-times')\n    close[0].addEventListener('click', () => {\n      currentWindow = 0;\n      $(next).attr(\"hidden\", true)\n      $(prev).attr(\"hidden\", true)\n      $('#instructions').hide()\n      $('#instructions').css('background', 'transparent');\n      $('#instructions').css('border', 'none');\n      $('#instructions').css('z-index', '-1');\n      $('.tutorial-text').attr('hidden', true);\n      $('#close').hide();\n      $('#tutorial-header').hide();\n      $('#transparent').css('background', 'transparent');\n      $('#tutorial-header').attr('hidden', true);\n    })\n\n\n    //Handle presets\n    let presetOneButton = document.getElementById('preset-1');\n    presetOneButton.addEventListener('click', () => {\n      init();\n      octave = 3;\n      detune = 5;\n      type ='square'\n      document.getElementById('wave-select').value = 'square'\n      newDetuneAmount.value = 5;\n      document.getElementById('phaser-rate').value = 7;\n      document.getElementById('phaser-depth').value = 0.8\n      document.getElementById('phaser-toggle').checked = true;\n      phaser.depth = 0.8\n      phaser.bypass = false;\n      phaser.rate = 7;\n      delay.bypass = false;\n      document.getElementById('delay-toggle').checked = true;\n      document.getElementById('delay-slider').value = 0.4;\n      document.getElementById('delay-feedback-slider').value = 0.70\n      delay.delayTime.value = 0.4;\n      delay.feedback.value = 0.70\n    })\n\n    let presetTwoButton = document.getElementById('preset-2');\n    presetTwoButton.addEventListener('click', () => {\n      init()\n      type ='sawtooth'\n      detune = 20;\n      newDetuneAmount.value = 20;\n      type2 = 'sawtooth'\n      document.getElementById('wave-select').value = 'sawtooth';\n      document.getElementById('wave-select-two').value = 'sawtooth';\n      document.getElementById('overdrive-toggle').checked = true;\n      document.getElementById('overdrive-drive-slider').value = 0.5;\n      document.getElementById('overdrive-curve-slider').value = 0.6;\n      document.getElementById('overdrive-output-slider').value = 0.4;\n      document.getElementById('drive-type').value = 4;\n      overdrive.bypass = false;\n      overdrive.drive = 0.5;\n      overdrive.curveAmount = 0.6;\n      overdrive.algorithmIndex = 4;\n      overdrive.outputGain.value = 0.4\n    })\n\n    let presetThreeButton = document.getElementById('preset-3');\n    presetThreeButton.addEventListener('click', () => {\n      init();\n      octave = 3;\n      detune = 3;\n      newDetuneAmount.value = 3;\n      attack = 2000;\n      type = 'triangle';\n      type2 = 'triangle';\n      convolver.bypass = false;\n      convolver.wetLevel = 0.8;\n      delay.bypass = false;\n      delay.delayTime.value = 0.9;\n      delay.feedback.value = 0.8;\n      delay.wetLevel = 0.6;\n      document.getElementById('attack-slider').value = 2000;\n      document.getElementById('delay-slider').value = 0.9;\n      document.getElementById('delay-feedback-slider').value = 0.8;\n      document.getElementById('delay-wet-slider').value = delay.wetLevel;\n      document.getElementById('delay-toggle').checked = true;\n      document.getElementById('wave-select').value = 'triangle';\n      document.getElementById('wave-select-two').value = 'triangle';\n      document.getElementById('reverb-toggle').checked = true;\n      document.getElementById('reverb-wet-slider').value = 0.8;\n    })\n\n    let defaultButton = document.getElementById('init')\n    defaultButton.addEventListener('click', init)\n\n\n\n    //DOM listeners to change settings not specific to effects\n    let newAttack = document.getElementById('attack-slider')\n    newAttack.addEventListener(\"change\", () => {\n      let newAttackNumber = parseInt(newAttack.value);\n      attack = newAttackNumber;\n    })\n\n    let newDecay = document.getElementById('decay-slider')\n    newDecay.addEventListener(\"change\", () => {\n      let newDecayNumber = parseInt(newDecay.value);\n      decay = newDecayNumber;\n    })\n\n    let newSustain = document.getElementById('sustain-slider')\n    newSustain.addEventListener(\"change\", () => {\n      let newSustainNumber = parseFloat(newSustain.value.match(/[\\d\\.]+/));\n      sustain = newSustainNumber\n    })\n\n    let target = document.getElementById(\"wave-select\");\n    target.addEventListener(\"change\", () => {\n      $('#wave-select').blur();\n      type = target.value;\n    })\n\n    let targetTwo = document.getElementById(\"wave-select-two\");\n    targetTwo.addEventListener(\"change\", () => {\n      $('#wave-select-two').blur();\n      type2 = targetTwo.value;\n    })\n\n    let oscOneGain = document.getElementById('osc-one-gain');\n    oscOneGain.addEventListener(\"change\", () => {\n      let oscOneGainNumber = parseFloat(oscOneGain.value.match(/[\\d\\.]+/));\n      oscGain = oscOneGainNumber;\n    })\n\n    let oscTwoGain = document.getElementById('osc-two-gain');\n    oscTwoGain.addEventListener(\"change\", () => {\n      let oscTwoGainNumber = parseFloat(oscTwoGain.value.match(/[\\d\\.]+/));\n      osc2Gain = oscTwoGainNumber;\n    })\n\n    let gainTarget = document.getElementById('gain-setting');\n    gainTarget.addEventListener(\"change\", () => {\n      masterGainNode.gain.value = gainTarget.value\n    })\n\n    let octaveUp = document.getElementById(\"octave-up\")\n    octaveUp.addEventListener(\"click\", () => {\n      if (octave >= 7) {\n        octave = 7\n      }\n      else {\n        octave = octave + 1\n      }\n    })\n\n    let octaveDown = document.getElementById(\"octave-down\")\n    octaveDown.addEventListener(\"click\", () => {\n      if (octave <= 1) {\n        octave = 1\n      }\n      else {\n        octave = octave - 1\n      }\n    })\n\n    let newDetuneAmount = document.getElementById('detune-settings');\n    newDetuneAmount.addEventListener(\"change\", () => {\n      detune = parseInt(newDetuneAmount.value);\n    })\n})\n\n// initial setup\n\nfunction createNoteTable(octave) {\n  let noteFreq = [{}];\n  let multiplier = octave\n  noteFreq[0][\"C\"] = 130.81;\n  noteFreq[0][\"C#\"] = 138.59;\n  noteFreq[0][\"D\"] = 146.83;\n  noteFreq[0][\"D#\"] = 155.56;\n  noteFreq[0][\"E\"] = 164.81;\n  noteFreq[0][\"F\"] = 174.61;\n  noteFreq[0][\"F#\"] = 185.00;\n  noteFreq[0][\"G\"] = 196.00;\n  noteFreq[0][\"G#\"] = 207.65;\n  noteFreq[0][\"A\"] = 220.00;\n  noteFreq[0][\"A#\"] = 233.08;\n  noteFreq[0][\"B\"] = 246.94;\n  return noteFreq;\n}\n\nexport const setup = function() {\n  let noteFreq = createNoteTable(octave);\n  let keyboard = document.createElement(\"div\")\n  let keyIds = [65, 87, 83, 69, 68, 70, 84, 71, 89, 72, 85, 74]\n  keyboard.id = \"keyboard\";\n  noteFreq.forEach(octave => {\n    let keyList = Object.keys(octave)\n    keyList.forEach((note, idx) => {\n      keyboard.append(createKey(note, octave[note], keyIds[idx]))\n    });\n  });\n  document.getElementById(\"keyboard-container\").innerHTML = keyboard.innerHTML\n}\n\nlet activeNotes = {};\n\nfunction createKey(note, freq, keyId) {\n  let keyElement = document.createElement(\"div\");\n  keyElement.className = \"key\";\n  if (note.length > 1) {\n    $(keyElement).addClass('accidental')\n  }\n  keyElement.dataset[\"note\"] = note;\n  keyElement.dataset[\"frequency\"] = freq;\n  keyElement.dataset[\"keyId\"] = keyId\n  keyElement.innerHTML = `<section class='key-text'><p>${note}<p><p>${String.fromCharCode(keyId)}</p></section>`;\n  let fired = false;\n  let oscs;\n  $(document).on(\"keydown\", e => {\n    let key = $(\"div[data-key-id = \" + e.keyCode + \"]\")\n    if (key.length === 0) {\n      return null;\n    }\n    key.addClass('red')\n    if (activeNotes[e.keyCode]) return null;\n      oscs = playTone($(key[0]).attr(\"data-frequency\"))\n      activeNotes[e.keyCode] = oscs;\n      if (!oscs) return null;\n  })\n  $(document).on('keyup', e => {\n    if (!oscs) return null;\n      let toStop = activeNotes[e.keyCode]\n      $(\"div[data-key-id = \" + e.keyCode + \"]\").removeClass('red')\n      if (!toStop) return null;\n      toStop.forEach((osc,idx) => {\n          osc.stop();\n      });\n      activeNotes[e.keyCode] = null;\n  })\n  return keyElement;\n}\n\n\n//connect oscillators nodes to all tuna.js nodes\nfunction connectNodes(osc, osc2) {\n  oscVolume.gain.value = oscGain;\n  osc2Volume.gain.value = osc2Gain;\n  let initialValue = envelope.gain.setValueAtTime(0, audioCtx.currentTime);\n  envelope.gain.linearRampToValueAtTime(1, audioCtx.currentTime + attack / 1000);\n  envelope.gain.linearRampToValueAtTime(sustain, audioCtx.currentTime + decay / 1000)\n  osc.connect(oscVolume);\n  oscVolume.connect(envelope);\n  osc2.connect(osc2Volume);\n  osc2Volume.connect(envelope);\n  envelope.connect(filter);\n  filter.connect(masterGainNode);\n  masterGainNode.connect(delay);\n  delay.connect(phaser);\n  phaser.connect(overdrive);\n  overdrive.connect(convolver);\n  convolver.connect(analyser)\n  analyser.connect(audioCtx.destination)\n  return null;\n}\n\nfunction playTone(freq) {\n  if (!freq) return null;\n  let osc = audioCtx.createOscillator();\n  let osc2 = audioCtx.createOscillator();\n  connectNodes(osc, osc2)\n  osc.type = type;\n  osc2.type = type2;\n  osc.detune.value = detune * 5;\n  osc2.detune.value = -detune * 5;\n  let number = parseFloat(freq.match(/[\\d\\.]+/))\n  osc.frequency.value = number * octave;\n  osc2.frequency.value = number * octave;\n  osc.start();\n  osc2.start();\n  return [osc,osc2]\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  setup();\n  draw();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js"],"sourceRoot":""}