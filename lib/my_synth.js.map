{"version":3,"sources":["webpack:///webpack/bootstrap 4ee99fe243ecdeaaa350","webpack:///./lib/tuna.js","webpack:///./lib/main.js","webpack:///./lib/audioCtx.js","webpack:///./lib/my_synth.js","webpack:///./lib/delayEvents.js","webpack:///./lib/filterEvents.js","webpack:///./lib/overdriveEvents.js","webpack:///./lib/phaserEvents.js","webpack:///./lib/reverbEvents.js"],"names":["tuna","Tuna","delay","Delay","feedback","delayTime","wetLevel","dryLevel","cutoff","bypass","phaser","Phaser","rate","depth","stereoPhase","baseModulationFrequency","overdrive","Overdrive","outputGain","drive","curveAmount","algorithmIndex","convolver","Convolver","highCut","lowCut","level","impulse","filter","Filter","frequency","Q","gain","filterType","delayEvents","phaserEvents","overdriveEvents","reverbEvents","filterEvents","masterGainNode","createGain","value","connect","destination","type","type2","attack","decay","sustain","detune","octave","oscGain","osc2Gain","window","analyser","createAnalyser","bufferLength","fftSize","dataArray","Uint8Array","getByteTimeDomainData","canvas","canvasCtx","document","addEventListener","getElementById","getContext","draw","clearRect","width","height","drawVisual","requestAnimationFrame","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","v","y","moveTo","lineTo","stroke","newAttack","newAttackNumber","parseInt","newDecay","newDecayNumber","newSustain","newSustainNumber","parseFloat","match","target","$","blur","targetTwo","oscOneGain","oscOneGainNumber","oscTwoGain","oscTwoGainNumber","gainTarget","octaveUp","octaveDown","newDetuneAmount","createNoteTable","noteFreq","multiplier","setup","keyboard","createElement","keyIds","id","forEach","keyList","Object","keys","note","idx","append","createKey","innerHTML","activeNotes","freq","keyId","keyElement","className","length","addClass","dataset","String","fromCharCode","fired","oscs","on","key","e","keyCode","playTone","attr","toStop","removeClass","osc","stop","oscVolume","osc2Volume","envelope","connectNodes","osc2","initialValue","setValueAtTime","currentTime","linearRampToValueAtTime","createOscillator","number","start","audioCtx","AudioContex","webkitAudioContext","modules","installedModules","__webpack_require__","moduleId","exports","module","l","call","m","c","d","name","getter","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","o","object","property","prototype","hasOwnProperty","p","s","undefined","_audioCtx","_audioCtx2","_interopRequireDefault","obj","default","_tuna","newDelayTime","newDelayNumber","newWet","newWetNumber","wet","newStatus","checked","newFeedbackTime","newFeedbackNumber","newCutoff","newCutoffNumber","newFilterType","newQ","newQNumber","newGain","newGainNumber","output","newDrive","newDriveNumber","newCurve","newCurveNumber","newType","newTypeNumber","newPhaserDepth","newPhaserDepthNumber","newPhaserFeedback","newPhaserFeedbackNumber","newPhaserRate","newPhaserRateNumber","newPhaserStereo","newPhaserStereoNumber","newReverbAmount","newReverbNumber","_delayEvents","_interopRequireWildcard","_phaserEvents","_overdriveEvents","_reverbEvents","_filterEvents","newObj"],"mappings":"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","file":"./lib/my_synth.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4ee99fe243ecdeaaa350","import audioCtx from './audioCtx';\n\nconst tuna = new Tuna(audioCtx);\nexport const delay = new tuna.Delay({\n      feedback: 0.2,\n      delayTime: 200, //this will create a short \"slap back\" delay\n      wetLevel: 0.7,\n      dryLevel: 1,\n      cutoff: 5000,\n      bypass: true\n});\n\nexport const phaser = new tuna.Phaser({\n    rate: 1.2,                     //0.01 to 8 is a decent range, but higher values are possible\n    depth: 0,                    //0 to 1\n    feedback: 0.0,                 //0 to 1+\n    stereoPhase: 30,               //0 to 180\n    baseModulationFrequency: 700,  //500 to 1500\n    bypass: 1\n});\n\nexport const overdrive = new tuna.Overdrive({\n    outputGain: 0.01,         //0 to 1+\n    drive: 0.01,              //0 to 1\n    curveAmount: 0,          //0 to 1\n    algorithmIndex: 0,       //0 to 5, selects one of our drive algorithms\n    bypass: 1\n});\n\nexport const convolver = new tuna.Convolver({\n    highCut: 22050,                         //20 to 22050\n    lowCut: 20,                             //20 to 22050\n    dryLevel: 1,                            //0 to 1+\n    wetLevel: 1,                            //0 to 1+\n    level: 1,                               //0 to 1+, adjusts total output of both wet and dry\n    impulse: \"impulses/BatteryBenson.wav\",    //the path to your impulse response\n    bypass: 1\n});\n\nexport const filter = new tuna.Filter({\n    frequency: 440, //20 to 22050\n    Q: 1, //0.001 to 100\n    gain: 1.7009999752044678, //-40 to 40 (in decibels)\n    filterType: \"lowpass\", //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n    bypass: 0\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tuna.js","import audioCtx from './audioCtx';\nimport * as delayEvents from './delayEvents.js';\nimport * as phaserEvents from './phaserEvents.js';\nimport * as overdriveEvents from './overdriveEvents.js';\nimport * as reverbEvents from './reverbEvents.js';\nimport * as filterEvents from './filterEvents.js';\nimport { delay, phaser, overdrive, convolver, filter } from './tuna.js'\nconst masterGainNode = audioCtx.createGain();\nmasterGainNode.gain.value = 0.5;\nmasterGainNode.connect(audioCtx.destination);\nlet type = 'sine'\nlet type2 = 'sine'\n\n//global variables\nlet attack = 0;\nlet decay = 1000;\nlet sustain = 0.2;\nlet detune = 0;\nlet octave = 1\nlet oscGain = 0.1;\nlet osc2Gain = 0.1;\nwindow.oscGain = oscGain;\nwindow.masterGainNode = masterGainNode;\n\nlet analyser = audioCtx.createAnalyser();\nlet bufferLength = analyser.fftSize = 2048;\nlet dataArray = new Uint8Array(bufferLength);\nanalyser.getByteTimeDomainData(dataArray);\n\n//draw function\nlet canvas;\nlet canvasCtx;\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  canvas = document.getElementById(\"oscilloscope\");\n  canvasCtx = canvas.getContext(\"2d\");\n})\n\nfunction draw() {\n  canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\n  let drawVisual = requestAnimationFrame(draw);\n  analyser.getByteTimeDomainData(dataArray);\n  canvasCtx.fillStyle = 'rgba(255, 255, 255, 0.0)';\n  canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\n  canvasCtx.lineWidth = 1;\n  canvasCtx.strokeStyle = 'rgb(68, 255, 0)';\n  canvasCtx.beginPath();\n\n  var sliceWidth = canvas.width * 1.0 / bufferLength;\n  var x = 0;\n\n  for (var i = 0; i < bufferLength; i++) {\n\n    var v = dataArray[i] / 128.0;\n    var y = v * canvas.height / 2;\n    if (i === 0) {\n      canvasCtx.moveTo(x, y);\n    } else {\n      canvasCtx.lineTo(x, y);\n    }\n\n    x += sliceWidth;\n  }\n\n  canvasCtx.lineTo(canvas.width, canvas.height / 2);\n  canvasCtx.stroke();\n\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newAttack = document.getElementById('attack-slider')\n    newAttack.addEventListener(\"change\", () => {\n      let newAttackNumber = parseInt(newAttack.value);\n      attack = newAttackNumber;\n    })\n\n    let newDecay = document.getElementById('decay-slider')\n    newDecay.addEventListener(\"change\", () => {\n      let newDecayNumber = parseInt(newDecay.value);\n      decay = newDecayNumber;\n    })\n\n    let newSustain = document.getElementById('sustain-slider')\n    newSustain.addEventListener(\"change\", () => {\n      let newSustainNumber = parseFloat(newSustain.value.match(/[\\d\\.]+/));\n      sustain = newSustainNumber\n    })\n\n    let target = document.getElementById(\"wave-select\");\n    target.addEventListener(\"change\", () => {\n      $('#wave-select').blur();\n      type = target.value;\n    })\n\n    let targetTwo = document.getElementById(\"wave-select-two\");\n    targetTwo.addEventListener(\"change\", () => {\n      $('#wave-select-two').blur();\n      type2 = targetTwo.value;\n    })\n\n    let oscOneGain = document.getElementById('osc-one-gain');\n    oscOneGain.addEventListener(\"change\", () => {\n      let oscOneGainNumber = parseFloat(oscOneGain.value.match(/[\\d\\.]+/));\n      oscGain = oscOneGainNumber;\n    })\n\n    let oscTwoGain = document.getElementById('osc-two-gain');\n    oscTwoGain.addEventListener(\"change\", () => {\n      let oscTwoGainNumber = parseFloat(oscTwoGain.value.match(/[\\d\\.]+/));\n      osc2Gain = oscTwoGainNumber;\n    })\n\n    let gainTarget = document.getElementById('gain-setting');\n    gainTarget.addEventListener(\"change\", () => {\n      debugger\n      masterGainNode.gain.value = gainTarget.value\n    })\n\n    let octaveUp = document.getElementById(\"octave-up\")\n    octaveUp.addEventListener(\"click\", () => {\n      if (octave >= 7) {\n        octave = 7\n      }\n      else {\n        octave = octave + 1\n      }\n    })\n\n    let octaveDown = document.getElementById(\"octave-down\")\n    octaveDown.addEventListener(\"click\", () => {\n      if (octave <= 1) {\n        octave = 1\n      }\n      else {\n        octave = octave - 1\n      }\n    })\n\n\n    let newDetuneAmount = document.getElementById('detune-settings');\n    newDetuneAmount.addEventListener(\"change\", () => {\n      detune = parseInt(newDetuneAmount.value);\n    })\n\n})\n\n// initial setup\n\nfunction createNoteTable(octave) {\n  let noteFreq = [{}];\n  let multiplier = octave\n  noteFreq[0][\"C\"] = 130.81;\n  noteFreq[0][\"C#\"] = 138.59;\n  noteFreq[0][\"D\"] = 146.83;\n  noteFreq[0][\"D#\"] = 155.56;\n  noteFreq[0][\"E\"] = 164.81;\n  noteFreq[0][\"F\"] = 174.61;\n  noteFreq[0][\"F#\"] = 185.00;\n  noteFreq[0][\"G\"] = 196.00;\n  noteFreq[0][\"G#\"] = 207.65;\n  noteFreq[0][\"A\"] = 220.00;\n  noteFreq[0][\"A#\"] = 233.08;\n  noteFreq[0][\"B\"] = 246.94;\n  return noteFreq;\n}\n\nexport const setup = function() {\n  let noteFreq = createNoteTable(octave);\n  let keyboard = document.createElement(\"div\")\n  let keyIds = [65, 87, 83, 69, 68, 70, 84, 71, 89, 72, 85, 74]\n  keyboard.id = \"keyboard\";\n  noteFreq.forEach(octave => {\n    let keyList = Object.keys(octave)\n    keyList.forEach((note, idx) => {\n      keyboard.append(createKey(note, octave[note], keyIds[idx]))\n    });\n  });\n  document.getElementById(\"keyboard-container\").innerHTML = keyboard.innerHTML\n}\n\nlet activeNotes = {};\n\nfunction createKey(note, freq, keyId) {\n  let keyElement = document.createElement(\"div\");\n  keyElement.className = \"key\";\n  if (note.length > 1) {\n    $(keyElement).addClass('accidental')\n  }\n  keyElement.dataset[\"note\"] = note;\n  keyElement.dataset[\"frequency\"] = freq;\n  keyElement.dataset[\"keyId\"] = keyId\n  keyElement.innerHTML = `<section class='key-text'><p>${note}<p><p>${String.fromCharCode(keyId)}</p></section>`;\n  let fired = false;\n  let oscs;\n  $(document).on(\"keydown\", e => {\n    debugger\n    let key = $(\"div[data-key-id = \" + e.keyCode + \"]\")\n    if (key.length === 0) {\n      return null;\n    }\n    key.addClass('red')\n    if (activeNotes[e.keyCode]) return null;\n      oscs = playTone($(key[0]).attr(\"data-frequency\"))\n      activeNotes[e.keyCode] = oscs;\n      if (!oscs) return null;\n  })\n  $(document).on('keyup', e => {\n    if (!oscs) return null;\n      let toStop = activeNotes[e.keyCode]\n      $(\"div[data-key-id = \" + e.keyCode + \"]\").removeClass('red')\n      if (!toStop) return null;\n      toStop.forEach(osc => {\n        osc.stop();\n      });\n      activeNotes[e.keyCode] = null;\n  })\n  return keyElement;\n}\n\nlet oscVolume = audioCtx.createGain();\nlet osc2Volume = audioCtx.createGain();\nlet envelope = audioCtx.createGain();\n\nfunction connectNodes(osc, osc2) {\n  oscVolume.gain.value = oscGain;\n  osc2Volume.gain.value = osc2Gain;\n  let initialValue = envelope.gain.setValueAtTime(0, audioCtx.currentTime);\n  envelope.gain.linearRampToValueAtTime(1, audioCtx.currentTime + attack / 1000);\n  envelope.gain.linearRampToValueAtTime(sustain, audioCtx.currentTime + decay / 1000)\n  osc.connect(oscVolume);\n  oscVolume.connect(envelope);\n  osc2.connect(osc2Volume);\n  osc2Volume.connect(envelope);\n  envelope.connect(filter);\n  filter.connect(masterGainNode);\n  masterGainNode.connect(delay);\n  delay.connect(phaser);\n  phaser.connect(overdrive);\n  overdrive.connect(convolver);\n  convolver.connect(analyser)\n  analyser.connect(audioCtx.destination)\n  return null;\n}\n\nfunction playTone(freq) {\n  if (!freq) return null;\n  let osc = audioCtx.createOscillator();\n  let osc2 = audioCtx.createOscillator();\n  connectNodes(osc, osc2)\n  osc.type = type;\n  osc2.type = type2;\n  osc.detune.value = detune * 5;\n  osc2.detune.value = -detune * 5;\n  let number = parseFloat(freq.match(/[\\d\\.]+/))\n  osc.frequency.value = number * octave;\n  osc2.frequency.value = number * octave;\n  osc.start();\n  osc2.start();\n  return [osc,osc2]\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  setup();\n  draw();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","const audioCtx = new (window.AudioContex || window.webkitAudioContext)();\nexport default audioCtx;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/audioCtx.js","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.filter = exports.convolver = exports.overdrive = exports.phaser = exports.delay = undefined;\n\nvar _audioCtx = __webpack_require__(1);\n\nvar _audioCtx2 = _interopRequireDefault(_audioCtx);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar tuna = new Tuna(_audioCtx2.default);\nvar delay = exports.delay = new tuna.Delay({\n    feedback: 0.2,\n    delayTime: 200, //this will create a short \"slap back\" delay\n    wetLevel: 0.7,\n    dryLevel: 1,\n    cutoff: 5000,\n    bypass: true\n});\n\nvar phaser = exports.phaser = new tuna.Phaser({\n    rate: 1.2, //0.01 to 8 is a decent range, but higher values are possible\n    depth: 0, //0 to 1\n    feedback: 0.0, //0 to 1+\n    stereoPhase: 30, //0 to 180\n    baseModulationFrequency: 700, //500 to 1500\n    bypass: 1\n});\n\nvar overdrive = exports.overdrive = new tuna.Overdrive({\n    outputGain: 0.01, //0 to 1+\n    drive: 0.01, //0 to 1\n    curveAmount: 0, //0 to 1\n    algorithmIndex: 0, //0 to 5, selects one of our drive algorithms\n    bypass: 1\n});\n\nvar convolver = exports.convolver = new tuna.Convolver({\n    highCut: 22050, //20 to 22050\n    lowCut: 20, //20 to 22050\n    dryLevel: 1, //0 to 1+\n    wetLevel: 1, //0 to 1+\n    level: 1, //0 to 1+, adjusts total output of both wet and dry\n    impulse: \"impulses/BatteryBenson.wav\", //the path to your impulse response\n    bypass: 1\n});\n\nvar filter = exports.filter = new tuna.Filter({\n    frequency: 440, //20 to 22050\n    Q: 1, //0.001 to 100\n    gain: 1.7009999752044678, //-40 to 40 (in decibels)\n    filterType: \"lowpass\", //lowpass, highpass, bandpass, lowshelf, highshelf, peaking, notch, allpass\n    bypass: 0\n});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\"use strict\";\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar audioCtx = new (window.AudioContex || window.webkitAudioContext)();\nexports.default = audioCtx;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nvar _tuna = __webpack_require__(0);\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  var newDelayTime = document.getElementById('delay-slider');\n\n  newDelayTime.addEventListener(\"change\", function (e) {\n    var newDelayNumber = parseFloat(newDelayTime.value.match(/[\\d\\.]+/));\n    _tuna.delay.delayTime.value = newDelayNumber;\n  });\n\n  var newWet = document.getElementById('delay-wet-slider');\n\n  newWet.addEventListener(\"change\", function () {\n    var newWetNumber = parseFloat(newWet.value.match(/[\\d\\.]+/));\n    _tuna.delay.wet.gain.value = newWetNumber;\n  });\n\n  var newStatus = document.getElementById('delay-toggle');\n  newStatus.addEventListener('click', function () {\n    if (newStatus.checked) {\n      _tuna.delay.bypass = false;\n    } else {\n      _tuna.delay.bypass = true;\n    }\n  });\n\n  var newFeedbackTime = document.getElementById('delay-feedback-slider');\n  newFeedbackTime.addEventListener('change', function () {\n    var newFeedbackNumber = parseFloat(newFeedbackTime.value.match(/[\\d\\.]+/));\n    _tuna.delay.feedback.value = newFeedbackNumber;\n  });\n});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nvar _tuna = __webpack_require__(0);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  var newCutoff = document.getElementById('filter-cutoff-slider');\n  newCutoff.addEventListener(\"change\", function () {\n    var newCutoffNumber = parseInt(newCutoff.value);\n    _tuna.filter.frequency.value = newCutoffNumber;\n  });\n\n  var newFilterType = document.getElementById('filter-type-dropdown');\n  newFilterType.addEventListener(\"change\", function () {\n    $('#filter-type-dropdown').blur();\n    _tuna.filter.filter.type = newFilterType.value;\n  });\n\n  var newQ = document.getElementById('filter-Q-slider');\n  newQ.addEventListener(\"change\", function () {\n    var newQNumber = parseInt(newQ.value);\n    _tuna.filter.Q.value = newQNumber;\n  });\n\n  var newGain = document.getElementById('filter-gain-slider');\n  newGain.addEventListener(\"change\", function () {\n    var newGainNumber = parseFloat(newGain.value.match(/^-?[0-9]+(?:\\.[0-9]+)?$/));\n    _tuna.filter.output.gain.value = newGainNumber;\n  });\n});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nvar _tuna = __webpack_require__(0);\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n  var newDrive = document.getElementById('overdrive-drive-slider');\n  newDrive.addEventListener(\"click\", function () {\n    var newDriveNumber = parseFloat(newDrive.value.match(/[\\d\\.]+/));\n    _tuna.overdrive.drive.value = newDriveNumber;\n  });\n\n  var newGain = document.getElementById('overdrive-output-slider');\n  newGain.addEventListener(\"change\", function () {\n    var newGainNumber = parseFloat(newGain.value.match(/[\\d\\.]+/));\n    _tuna.overdrive.outputGain.value = newGainNumber;\n  });\n\n  var newCurve = document.getElementById('overdrive-curve-slider');\n  newCurve.addEventListener(\"change\", function () {\n    var newCurveNumber = parseFloat(newCurve.value.match(/[\\d\\.]+/));\n    _tuna.overdrive.curveAmount = newCurveNumber;\n  });\n\n  var newType = document.getElementById('drive-type');\n  newType.addEventListener(\"change\", function () {\n    var newTypeNumber = parseInt(newType.value);\n    _tuna.overdrive.algorithmIndex = newTypeNumber;\n  });\n\n  var newStatus = document.getElementById('overdrive-toggle');\n  newStatus.addEventListener(\"click\", function () {\n    if (newStatus.checked) {\n      _tuna.overdrive.bypass = 0;\n    } else {\n      _tuna.overdrive.bypass = 1;\n    }\n  });\n});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nvar _tuna = __webpack_require__(0);\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n  var newPhaserDepth = document.getElementById('phaser-depth');\n\n  newPhaserDepth.addEventListener(\"change\", function () {\n    var newPhaserDepthNumber = parseFloat(newPhaserDepth.value.match(/[\\d\\.]+/));\n    _tuna.phaser.depth = newPhaserDepthNumber;\n  });\n\n  var newPhaserFeedback = document.getElementById('phaser-feedback');\n  newPhaserFeedback.addEventListener(\"change\", function () {\n    var newPhaserFeedbackNumber = parseFloat(newPhaserFeedback.value.match(/[\\d\\.]+/));\n    _tuna.phaser.depth = newPhaserFeedbackNumber;\n  });\n\n  var newPhaserRate = document.getElementById('phaser-rate');\n  newPhaserRate.addEventListener(\"change\", function () {\n    var newPhaserRateNumber = parseFloat(newPhaserRate.value.match(/[\\d\\.]+/));\n    _tuna.phaser.rate = newPhaserRateNumber;\n  });\n\n  var newPhaserStereo = document.getElementById('phaser-stereo');\n  newPhaserStereo.addEventListener(\"change\", function () {\n    var newPhaserStereoNumber = parseInt(newPhaserStereo.value);\n    _tuna.phaser.stereoPhase = newPhaserStereoNumber;\n  });\n\n  var newStatus = document.getElementById('phaser-toggle');\n  newStatus.addEventListener('click', function () {\n    if (newStatus.checked) {\n      _tuna.phaser.bypass = false;\n    } else {\n      _tuna.phaser.bypass = true;\n    }\n  });\n});\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nvar _tuna = __webpack_require__(0);\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n  var newReverbAmount = document.getElementById('reverb-wet-slider');\n  newReverbAmount.addEventListener(\"change\", function () {\n    var newReverbNumber = parseFloat(newReverbAmount.value.match(/[\\d\\.]+/));\n    _tuna.convolver.wet.gain.value = newReverbNumber;\n  });\n\n  var newStatus = document.getElementById('reverb-toggle');\n  newStatus.addEventListener(\"click\", function () {\n    if (newStatus.checked) {\n      _tuna.convolver.bypass = 0;\n    } else {\n      _tuna.convolver.bypass = 1;\n    }\n  });\n});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setup = undefined;\n\nvar _audioCtx = __webpack_require__(1);\n\nvar _audioCtx2 = _interopRequireDefault(_audioCtx);\n\nvar _delayEvents = __webpack_require__(2);\n\nvar delayEvents = _interopRequireWildcard(_delayEvents);\n\nvar _phaserEvents = __webpack_require__(5);\n\nvar phaserEvents = _interopRequireWildcard(_phaserEvents);\n\nvar _overdriveEvents = __webpack_require__(4);\n\nvar overdriveEvents = _interopRequireWildcard(_overdriveEvents);\n\nvar _reverbEvents = __webpack_require__(6);\n\nvar reverbEvents = _interopRequireWildcard(_reverbEvents);\n\nvar _filterEvents = __webpack_require__(3);\n\nvar filterEvents = _interopRequireWildcard(_filterEvents);\n\nvar _tuna = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar masterGainNode = _audioCtx2.default.createGain();\nmasterGainNode.gain.value = 0.5;\nmasterGainNode.connect(_audioCtx2.default.destination);\nvar type = 'sine';\nvar type2 = 'sine';\n\n//global variables\nvar attack = 0;\nvar decay = 1000;\nvar sustain = 0.2;\nvar detune = 0;\nvar octave = 1;\nvar oscGain = 0.1;\nvar osc2Gain = 0.1;\nwindow.oscGain = oscGain;\nwindow.masterGainNode = masterGainNode;\n\nvar analyser = _audioCtx2.default.createAnalyser();\nvar bufferLength = analyser.fftSize = 2048;\nvar dataArray = new Uint8Array(bufferLength);\nanalyser.getByteTimeDomainData(dataArray);\n\n//draw function\nvar canvas = void 0;\nvar canvasCtx = void 0;\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  canvas = document.getElementById(\"oscilloscope\");\n  canvasCtx = canvas.getContext(\"2d\");\n});\n\nfunction draw() {\n  canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\n  var drawVisual = requestAnimationFrame(draw);\n  analyser.getByteTimeDomainData(dataArray);\n  canvasCtx.fillStyle = 'rgba(255, 255, 255, 0.0)';\n  canvasCtx.fillRect(0, 0, canvas.width, canvas.height);\n  canvasCtx.lineWidth = 1;\n  canvasCtx.strokeStyle = 'rgb(68, 255, 0)';\n  canvasCtx.beginPath();\n\n  var sliceWidth = canvas.width * 1.0 / bufferLength;\n  var x = 0;\n\n  for (var i = 0; i < bufferLength; i++) {\n\n    var v = dataArray[i] / 128.0;\n    var y = v * canvas.height / 2;\n    if (i === 0) {\n      canvasCtx.moveTo(x, y);\n    } else {\n      canvasCtx.lineTo(x, y);\n    }\n\n    x += sliceWidth;\n  }\n\n  canvasCtx.lineTo(canvas.width, canvas.height / 2);\n  canvasCtx.stroke();\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n  var newAttack = document.getElementById('attack-slider');\n  newAttack.addEventListener(\"change\", function () {\n    var newAttackNumber = parseInt(newAttack.value);\n    attack = newAttackNumber;\n  });\n\n  var newDecay = document.getElementById('decay-slider');\n  newDecay.addEventListener(\"change\", function () {\n    var newDecayNumber = parseInt(newDecay.value);\n    decay = newDecayNumber;\n  });\n\n  var newSustain = document.getElementById('sustain-slider');\n  newSustain.addEventListener(\"change\", function () {\n    var newSustainNumber = parseFloat(newSustain.value.match(/[\\d\\.]+/));\n    sustain = newSustainNumber;\n  });\n\n  var target = document.getElementById(\"wave-select\");\n  target.addEventListener(\"change\", function () {\n    $('#wave-select').blur();\n    type = target.value;\n  });\n\n  var targetTwo = document.getElementById(\"wave-select-two\");\n  targetTwo.addEventListener(\"change\", function () {\n    $('#wave-select-two').blur();\n    type2 = targetTwo.value;\n  });\n\n  var oscOneGain = document.getElementById('osc-one-gain');\n  oscOneGain.addEventListener(\"change\", function () {\n    var oscOneGainNumber = parseFloat(oscOneGain.value.match(/[\\d\\.]+/));\n    oscGain = oscOneGainNumber;\n  });\n\n  var oscTwoGain = document.getElementById('osc-two-gain');\n  oscTwoGain.addEventListener(\"change\", function () {\n    var oscTwoGainNumber = parseFloat(oscTwoGain.value.match(/[\\d\\.]+/));\n    osc2Gain = oscTwoGainNumber;\n  });\n\n  var gainTarget = document.getElementById('gain-setting');\n  gainTarget.addEventListener(\"change\", function () {\n    debugger;\n    masterGainNode.gain.value = gainTarget.value;\n  });\n\n  var octaveUp = document.getElementById(\"octave-up\");\n  octaveUp.addEventListener(\"click\", function () {\n    if (octave >= 7) {\n      octave = 7;\n    } else {\n      octave = octave + 1;\n    }\n  });\n\n  var octaveDown = document.getElementById(\"octave-down\");\n  octaveDown.addEventListener(\"click\", function () {\n    if (octave <= 1) {\n      octave = 1;\n    } else {\n      octave = octave - 1;\n    }\n  });\n\n  var newDetuneAmount = document.getElementById('detune-settings');\n  newDetuneAmount.addEventListener(\"change\", function () {\n    detune = parseInt(newDetuneAmount.value);\n  });\n});\n\n// initial setup\n\nfunction createNoteTable(octave) {\n  var noteFreq = [{}];\n  var multiplier = octave;\n  noteFreq[0][\"C\"] = 130.81;\n  noteFreq[0][\"C#\"] = 138.59;\n  noteFreq[0][\"D\"] = 146.83;\n  noteFreq[0][\"D#\"] = 155.56;\n  noteFreq[0][\"E\"] = 164.81;\n  noteFreq[0][\"F\"] = 174.61;\n  noteFreq[0][\"F#\"] = 185.00;\n  noteFreq[0][\"G\"] = 196.00;\n  noteFreq[0][\"G#\"] = 207.65;\n  noteFreq[0][\"A\"] = 220.00;\n  noteFreq[0][\"A#\"] = 233.08;\n  noteFreq[0][\"B\"] = 246.94;\n  return noteFreq;\n}\n\nvar setup = exports.setup = function setup() {\n  var noteFreq = createNoteTable(octave);\n  var keyboard = document.createElement(\"div\");\n  var keyIds = [65, 87, 83, 69, 68, 70, 84, 71, 89, 72, 85, 74];\n  keyboard.id = \"keyboard\";\n  noteFreq.forEach(function (octave) {\n    var keyList = Object.keys(octave);\n    keyList.forEach(function (note, idx) {\n      keyboard.append(createKey(note, octave[note], keyIds[idx]));\n    });\n  });\n  document.getElementById(\"keyboard-container\").innerHTML = keyboard.innerHTML;\n};\n\nvar activeNotes = {};\n\nfunction createKey(note, freq, keyId) {\n  var keyElement = document.createElement(\"div\");\n  keyElement.className = \"key\";\n  if (note.length > 1) {\n    $(keyElement).addClass('accidental');\n  }\n  keyElement.dataset[\"note\"] = note;\n  keyElement.dataset[\"frequency\"] = freq;\n  keyElement.dataset[\"keyId\"] = keyId;\n  keyElement.innerHTML = '<section class=\\'key-text\\'><p>' + note + '<p><p>' + String.fromCharCode(keyId) + '</p></section>';\n  var fired = false;\n  var oscs = void 0;\n  $(document).on(\"keydown\", function (e) {\n    debugger;\n    var key = $(\"div[data-key-id = \" + e.keyCode + \"]\");\n    if (key.length === 0) {\n      return null;\n    }\n    key.addClass('red');\n    if (activeNotes[e.keyCode]) return null;\n    oscs = playTone($(key[0]).attr(\"data-frequency\"));\n    activeNotes[e.keyCode] = oscs;\n    if (!oscs) return null;\n  });\n  $(document).on('keyup', function (e) {\n    if (!oscs) return null;\n    var toStop = activeNotes[e.keyCode];\n    $(\"div[data-key-id = \" + e.keyCode + \"]\").removeClass('red');\n    if (!toStop) return null;\n    toStop.forEach(function (osc) {\n      osc.stop();\n    });\n    activeNotes[e.keyCode] = null;\n  });\n  return keyElement;\n}\n\nvar oscVolume = _audioCtx2.default.createGain();\nvar osc2Volume = _audioCtx2.default.createGain();\nvar envelope = _audioCtx2.default.createGain();\n\nfunction connectNodes(osc, osc2) {\n  oscVolume.gain.value = oscGain;\n  osc2Volume.gain.value = osc2Gain;\n  var initialValue = envelope.gain.setValueAtTime(0, _audioCtx2.default.currentTime);\n  envelope.gain.linearRampToValueAtTime(1, _audioCtx2.default.currentTime + attack / 1000);\n  envelope.gain.linearRampToValueAtTime(sustain, _audioCtx2.default.currentTime + decay / 1000);\n  osc.connect(oscVolume);\n  oscVolume.connect(envelope);\n  osc2.connect(osc2Volume);\n  osc2Volume.connect(envelope);\n  envelope.connect(_tuna.filter);\n  _tuna.filter.connect(masterGainNode);\n  masterGainNode.connect(_tuna.delay);\n  _tuna.delay.connect(_tuna.phaser);\n  _tuna.phaser.connect(_tuna.overdrive);\n  _tuna.overdrive.connect(_tuna.convolver);\n  _tuna.convolver.connect(analyser);\n  analyser.connect(_audioCtx2.default.destination);\n  return null;\n}\n\nfunction playTone(freq) {\n  if (!freq) return null;\n  var osc = _audioCtx2.default.createOscillator();\n  var osc2 = _audioCtx2.default.createOscillator();\n  connectNodes(osc, osc2);\n  osc.type = type;\n  osc2.type = type2;\n  osc.detune.value = detune * 5;\n  osc2.detune.value = -detune * 5;\n  var number = parseFloat(freq.match(/[\\d\\.]+/));\n  osc.frequency.value = number * octave;\n  osc2.frequency.value = number * octave;\n  osc.start();\n  osc2.start();\n  return [osc, osc2];\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  setup();\n  draw();\n});\n\n/***/ }\n/******/ ]);\n//# sourceMappingURL=my_synth.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/my_synth.js","import { delay } from './tuna.js'\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let newDelayTime = document.getElementById('delay-slider');\n\n  newDelayTime.addEventListener(\"change\", (e) => {\n    let newDelayNumber = parseFloat(newDelayTime.value.match(/[\\d\\.]+/))\n    delay.delayTime.value = newDelayNumber;\n  });\n\n  let newWet = document.getElementById('delay-wet-slider')\n\n  newWet.addEventListener(\"change\", () => {\n    let newWetNumber = parseFloat(newWet.value.match(/[\\d\\.]+/))\n    delay.wet.gain.value = newWetNumber;\n  })\n\n  let newStatus = document.getElementById('delay-toggle')\n  newStatus.addEventListener('click', () => {\n    if (newStatus.checked) {\n      delay.bypass = false;\n    }\n    else {\n      delay.bypass = true\n    }\n  })\n\n  let newFeedbackTime = document.getElementById('delay-feedback-slider')\n  newFeedbackTime.addEventListener('change', () => {\n    let newFeedbackNumber = parseFloat(newFeedbackTime.value.match(/[\\d\\.]+/))\n    delay.feedback.value = newFeedbackNumber;\n  })\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/delayEvents.js","import { filter } from './tuna.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    let newCutoff = document.getElementById('filter-cutoff-slider')\n    newCutoff.addEventListener(\"change\", () => {\n      let newCutoffNumber = parseInt(newCutoff.value)\n      filter.frequency.value = newCutoffNumber\n    })\n\n    let newFilterType = document.getElementById('filter-type-dropdown')\n    newFilterType.addEventListener(\"change\", () => {\n      $('#filter-type-dropdown').blur();\n      filter.filter.type = newFilterType.value;\n    })\n\n    let newQ = document.getElementById('filter-Q-slider')\n    newQ.addEventListener(\"change\", () => {\n      let newQNumber = parseInt(newQ.value)\n      filter.Q.value = newQNumber;\n    })\n\n    let newGain = document.getElementById('filter-gain-slider')\n    newGain.addEventListener(\"change\", () => {\n      let newGainNumber = parseFloat(newGain.value.match(/^-?[0-9]+(?:\\.[0-9]+)?$/));\n      filter.output.gain.value = newGainNumber;\n    })\n\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/filterEvents.js","import { overdrive } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newDrive = document.getElementById('overdrive-drive-slider')\n    newDrive.addEventListener(\"click\", () => {\n      let newDriveNumber = parseFloat(newDrive.value.match(/[\\d\\.]+/));\n      overdrive.drive.value = newDriveNumber;\n    })\n\n\n    let newGain = document.getElementById('overdrive-output-slider')\n    newGain.addEventListener(\"change\", () => {\n      let newGainNumber = parseFloat(newGain.value.match(/[\\d\\.]+/));\n      overdrive.outputGain.value = newGainNumber;\n    })\n\n    let newCurve = document.getElementById('overdrive-curve-slider')\n    newCurve.addEventListener(\"change\", () => {\n      let newCurveNumber = parseFloat(newCurve.value.match(/[\\d\\.]+/));\n      overdrive.curveAmount = newCurveNumber;\n    })\n\n    let newType = document.getElementById('drive-type')\n    newType.addEventListener(\"change\", () => {\n      let newTypeNumber = parseInt(newType.value)\n      overdrive.algorithmIndex = newTypeNumber;\n    })\n\n    let newStatus = document.getElementById('overdrive-toggle')\n    newStatus.addEventListener(\"click\", () => {\n      if (newStatus.checked) {\n        overdrive.bypass = 0\n      }\n      else {\n        overdrive.bypass = 1;\n      }\n    })\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/overdriveEvents.js","import { phaser } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newPhaserDepth = document.getElementById('phaser-depth')\n\n    newPhaserDepth.addEventListener(\"change\", () => {\n      let newPhaserDepthNumber = parseFloat(newPhaserDepth.value.match(/[\\d\\.]+/))\n      phaser.depth = newPhaserDepthNumber;\n    })\n\n\n    let newPhaserFeedback = document.getElementById('phaser-feedback')\n    newPhaserFeedback.addEventListener(\"change\", () => {\n      let newPhaserFeedbackNumber = parseFloat(newPhaserFeedback.value.match(/[\\d\\.]+/))\n      phaser.depth = newPhaserFeedbackNumber;\n    })\n\n\n    let newPhaserRate = document.getElementById('phaser-rate')\n    newPhaserRate.addEventListener(\"change\", () => {\n      let newPhaserRateNumber = parseFloat(newPhaserRate.value.match(/[\\d\\.]+/))\n      phaser.rate = newPhaserRateNumber;\n    })\n\n    let newPhaserStereo = document.getElementById('phaser-stereo')\n    newPhaserStereo.addEventListener(\"change\", () => {\n      let newPhaserStereoNumber = parseInt(newPhaserStereo.value)\n      phaser.stereoPhase = newPhaserStereoNumber;\n    })\n\n    let newStatus = document.getElementById('phaser-toggle')\n    newStatus.addEventListener('click', () => {\n      if (newStatus.checked) {\n        phaser.bypass = false;\n      }\n      else {\n        phaser.bypass = true;\n      }\n    })\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/phaserEvents.js","import { convolver } from './tuna.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    let newReverbAmount = document.getElementById('reverb-wet-slider')\n    newReverbAmount.addEventListener(\"change\", () => {\n      let newReverbNumber = parseFloat(newReverbAmount.value.match(/[\\d\\.]+/));\n      convolver.wet.gain.value = newReverbNumber;\n    })\n\n    let newStatus = document.getElementById('reverb-toggle')\n    newStatus.addEventListener(\"click\", () => {\n      if (newStatus.checked) {\n        convolver.bypass = 0;\n      }\n      else {\n        convolver.bypass = 1;\n      }\n    })\n\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reverbEvents.js"],"sourceRoot":""}